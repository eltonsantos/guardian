<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <link rel="stylesheet" href="../shared/styles.css" />
  <link rel="stylesheet" href="./blocked.css" />
  <title>Blocked — Guardian</title>
</head>
<body>
  <div class="wrap">
    <div class="card panel">
      <div class="row" style="gap:12px;">
        <img src="../assets/icon128.png" width="42" height="42" alt="Guardian" style="border-radius:14px;" />
        <div>
          <div class="h1">Access Blocked</div>
          <div class="small">This site matches your Guardian protection rules.</div>
        </div>
      </div>

      <div class="details" style="margin-top:12px;">
        <div class="small"><b>Blocked URL:</b> <span id="blockedUrl">—</span></div>
        <div class="small"><b>Domain:</b> <span id="domain">—</span></div>
        <div class="small"><b>Reason:</b> <span id="reason">—</span></div>
        <div class="small"><b>Time:</b> <span id="time">—</span></div>
      </div>

      <hr />

      <div id="unlockBox" class="card" style="padding:12px;margin-top:12px;">
        <div class="h2">Unlock with password</div>
        <p class="p" style="margin-top:6px;">To allow access, authenticate with your password (or recovery code/phrase) and choose an option.</p>
        <div class="row" style="gap:10px; flex-wrap:wrap; margin-top:10px;">
          <input class="input" id="unlockValue" type="password" placeholder="Password or recovery" style="max-width:340px;" />
          <button class="btn" id="unlockBtn">Verify</button>
        </div>
        <p class="small" id="unlockStatus" style="margin-top:10px;"></p>
        <div class="row" style="gap:10px; flex-wrap:wrap; margin-top:10px;">
          <button class="btn primary" id="allow10Btn" disabled>Allow for 10 minutes</button>
          <button class="btn" id="allowDomainBtn" disabled>Allow this domain (allowlist)</button>
        </div>
      </div>

      <div class="row" style="gap:10px; flex-wrap:wrap;">
        <button class="btn" id="backBtn">Go back</button>
        <button class="btn primary" id="settingsBtn">Settings</button>
      </div>

      <p class="small" style="margin-top:12px;">
        Guardian works locally. It is not a VPN or system-wide filter.
      </p>
    </div>
  </div>

  <script type="module" src="./blocked.js"></script>
</body>
</html>
